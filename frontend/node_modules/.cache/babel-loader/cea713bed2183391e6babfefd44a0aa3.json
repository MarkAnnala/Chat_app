{"ast":null,"code":"var _jsxFileName = \"/Users/Mark/Documents/Skola/OSPP/adrenaline/frontend/src/components/InfoDisplayList/AddFriend.js\";\nimport React, { useState } from \"react\";\n\nconst axios = require(\"axios\");\n\nfunction friendRequest({\n  setAddSuccessful,\n  userInput,\n  from,\n  setErrorMsg\n}) {\n  if (userInput !== \"\") {\n    axios.post(\"/\", JSON.stringify({\n      action: \"friend_request\",\n      username: userInput,\n      password: from\n    })).then(function (response) {\n      console.log(response);\n\n      switch (response.status) {\n        /* addfriend accepted, state is passed up to friendsList to determine if the username should be added or not */\n        case 200:\n          {\n            setAddSuccessful(true);\n            setErrorMsg(false);\n            break;\n          }\n\n        /* addfriend denied, we simply display an error message */\n\n        case 404:\n          {\n            setErrorMsg(true);\n            break;\n          }\n\n        default:\n          setErrorMsg(true);\n          break;\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } else {\n    setErrorMsg(true);\n  }\n}\n\nconst AddFriend = ({\n  userInput,\n  handleInputChange,\n  setAddSuccessful,\n  show,\n  setShow,\n  from\n}) => {\n  /* This state is local to the modal and displays error text if failed attempt */\n  const [errorMsg, setErrorMsg] = useState(false);\n  const content = show && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addFriend-custom-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addFriend-custom-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addFriend-custom-modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"ADD FRIEND\"), errorMsg ? /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"AddFriend\",\n    className: \"text-red-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \" \", \"Something went wrong! Try something else.\") : /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"AddFriend\",\n    className: \"text-base\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \" \", \"Send a friend request by entering their Username.\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"AddFriend\",\n    className: \" flex flex-wrap shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    type: \"text\",\n    onChange: handleInputChange,\n    value: userInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border border-green-700 rounded\",\n    onClick: () => friendRequest({\n      setAddSuccessful,\n      userInput,\n      from,\n      setErrorMsg\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Add\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-red-900 hover:bg-red-700 text-white font-bold py-2 px-4 border border-red-700 rounded\",\n    onClick: () => setShow(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Close\"))));\n  return content;\n};\n\nexport default AddFriend;","map":{"version":3,"sources":["/Users/Mark/Documents/Skola/OSPP/adrenaline/frontend/src/components/InfoDisplayList/AddFriend.js"],"names":["React","useState","axios","require","friendRequest","setAddSuccessful","userInput","from","setErrorMsg","post","JSON","stringify","action","username","password","then","response","console","log","status","catch","error","AddFriend","handleInputChange","show","setShow","errorMsg","content"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nconst axios = require(\"axios\");\n\nfunction friendRequest({ setAddSuccessful, userInput, from, setErrorMsg }) {\n  if (userInput !== \"\") {\n    axios\n      .post(\n        \"/\",\n        JSON.stringify({\n          action: \"friend_request\",\n          username: userInput,\n          password: from,\n        })\n      )\n      .then(function (response) {\n          console.log(response);\n        switch (response.status) {\n          /* addfriend accepted, state is passed up to friendsList to determine if the username should be added or not */\n          case 200: {\n            setAddSuccessful(true);\n            setErrorMsg(false);\n            break;\n          }\n          /* addfriend denied, we simply display an error message */\n          case 404: {\n            setErrorMsg(true);\n            break;\n          }\n          default:\n            setErrorMsg(true);\n            break;\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  } else {\n    setErrorMsg(true);\n  }\n}\n\nconst AddFriend = ({\n  userInput,\n  handleInputChange,\n  setAddSuccessful,\n  show,\n  setShow,\n  from,\n}) => {\n  /* This state is local to the modal and displays error text if failed attempt */\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const content = show && (\n    <div className=\"addFriend-custom-overlay\">\n      <div className=\"addFriend-custom-modal\">\n        <div className=\"addFriend-custom-modal-body\">\n          <h1>ADD FRIEND</h1>\n\n          {errorMsg ? (\n            <label htmlFor=\"AddFriend\" className=\"text-red-600\">\n              {\" \"}\n              Something went wrong! Try something else.\n            </label>\n          ) : (\n            <label htmlFor=\"AddFriend\" className=\"text-base\">\n              {\" \"}\n              Send a friend request by entering their Username.\n            </label>\n          )}\n\n          <input\n            id=\"AddFriend\"\n            className=\" flex flex-wrap shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            type=\"text\"\n            onChange={handleInputChange}\n            value={userInput}\n          ></input>\n          {/* On add, do a friend request and update success state accordingly */}\n          <button\n            className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border border-green-700 rounded\"\n            onClick={() =>\n              friendRequest({ setAddSuccessful, userInput, from, setErrorMsg })\n            }\n          >\n            Add\n          </button>\n          <button\n            className=\"bg-red-900 hover:bg-red-700 text-white font-bold py-2 px-4 border border-red-700 rounded\"\n            onClick={() => setShow(false)}\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  return content;\n};\nexport default AddFriend;\n"]},"metadata":{},"sourceType":"module"}